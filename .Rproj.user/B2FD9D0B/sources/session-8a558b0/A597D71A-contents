---
format:
  revealjs:
    theme: [simple, custom.scss]
    transition: fade
    transition-speed: fast
    slide-number: true
    height: 700
    width: 1250
    df-print: paged
    chalkboard: true
    code-fold: show
execute: 
  echo: true
  warning: false
  message: false
editor: visual
---

##  {background-image="Images/presentation.jpeg" visibility="uncounted"}

::: title
**Quarto Presentation in R**
:::

::: author
**Trang Tu**
:::

::: date
R Bookclub Oct 10, 2024
:::

## What is Quarto

-   Next generation of RMarkdown for publishing, including dynamic and static documents and multi-lingual programming language support.
-   With Quarto you can create documents, books, presentations, blogs or other online resources

### Why Quarto, instead of RMarkdown?

-   Choose your own editor and preferred data science language
-   Better accessibility and richer features
-   More enhancements overtime - RMarkdown still maintained, but majority of new features built into Quarto

## Many Quarto formats {.smaller .scrollable}

+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Feature         | R Markdown                                                                                               | Quarto                                                                             |
+=================+==========================================================================================================+====================================================================================+
| Basic formats   | -   [html_document](https://pkgs.rstudio.com/rmarkdown/reference/html_document.html)                     | -   [html](https://quarto.org/docs/output-formats/html-basics.html)                |
|                 | -   [pdf_document](https://pkgs.rstudio.com/rmarkdown/reference/pdf_document.html)                       | -   [pdf](https://quarto.org/docs/output-formats/pdf-basics.html)                  |
|                 | -   [word_document](https://pkgs.rstudio.com/rmarkdown/reference/word_document.html)                     | -   [docx](https://quarto.org/docs/output-formats/ms-word.html)                    |
+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Beamer          | -   [beamer_presentation](https://pkgs.rstudio.com/rmarkdown/reference/html_document.html)               | -   [html](https://quarto.org/docs/output-formats/html-basics.html)                |
+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Powerpoint      | -   [powerpoint_presentation](https://pkgs.rstudio.com/rmarkdown/reference/powerpoint_presentation.html) | -   [pptx](https://quarto.org/docs/presentations/powerpoint.html)                  |
+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| HTML Slides     | -   [xaringan](https://bookdown.org/yihui/rmarkdown/xaringan.html)                                       | -   [revealjs](https://quarto.org/docs/presentations/revealjs/)                    |
|                 |                                                                                                          |                                                                                    |
|                 | -   [ioslides](https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html)                          |                                                                                    |
|                 |                                                                                                          |                                                                                    |
|                 | -   [revealjs](https://bookdown.org/yihui/rmarkdown/revealjs.html)                                       |                                                                                    |
+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Advanced layout | -   [tufte](https://bookdown.org/yihui/rmarkdown/tufte-handouts.html)                                    | -   [Quarto Article Layout](https://quarto.org/docs/authoring/article-layout.html) |
|                 |                                                                                                          |                                                                                    |
|                 | -   [distill](https://rstudio.github.io/distill/figures.html)                                            |                                                                                    |
+-----------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+

::: notes
reveal.js is an open source HTML presentation framework. It's a tool that enables anyone with a web browser to create fully-featured and beautiful presentations for free.
:::

## Many Quarto formats {.smaller .scrollable}

+------------------+----------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
| Feature          | R Markdown                                                                       | Quarto                                                                          |
+==================+==================================================================================+=================================================================================+
| Cross References | -   [html_document2](https://bookdown.org/yihui/bookdown/a-single-document.html) | -   [Quarto Crossrefs](https://quarto.org/docs/authoring/cross-references.html) |
|                  |                                                                                  |                                                                                 |
|                  | <!-- -->                                                                         |                                                                                 |
|                  |                                                                                  |                                                                                 |
|                  | -   [pdf_document2](https://bookdown.org/yihui/bookdown/a-single-document.html)  |                                                                                 |
|                  |                                                                                  |                                                                                 |
|                  | -   [word_document2](https://bookdown.org/yihui/bookdown/a-single-document.html) |                                                                                 |
+------------------+----------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
| Websites & Blogs | -   [blogdown](https://pkgs.rstudio.com/blogdown/)                               | -   [Quarto Websites](https://quarto.org/docs/websites/)                        |
|                  |                                                                                  |                                                                                 |
|                  | -   [distill](https://pkgs.rstudio.com/distill/)                                 | -   [Quarto Blogs](https://quarto.org/docs/websites/website-blog.html)          |
+------------------+----------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
| Books            | -   [bookdown](https://pkgs.rstudio.com/bookdown/)                               | -   [Quarto Books](https://quarto.org/docs/books/)                              |
+------------------+----------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
| Interactivity    | -   [Shiny Documents](https://bookdown.org/yihui/rmarkdown/shiny-documents.html) | -   [Quarto Interactive Documents](https://quarto.org/docs/interactive/shiny/)  |
+------------------+----------------------------------------------------------------------------------+---------------------------------------------------------------------------------+

## Anatomy of Quarto document

. . .

-   Metadata (YAML)

```         
---
  format: html
---
```

. . .

-   Code and code output

```{r}
library(dplyr)
mtcars %>% group_by(cyl) %>% summarize(mean = mean(mpg), .groups = "drop")
```

. . .

-   Text, images and other media

## YAML header

-   Placed at the very beginning of the document and is read by each of Pandoc, Quarto and `knitr`.
-   Along the way, the information that it contains can affect the code, content, and the rendering process.

## YAML header

```{r eval=FALSE}
#| code-line-numbers: 4|5-6|7|8-9|10|11-12|13-16
---
format:
  revealjs:
    theme: [simple, custom.scss]
    transition: fade #slide transitions. Other options: none, slide, convex, concave, zoom
    transition-speed: fast #Other options: default, slow
    slide-number: true 
    height: 700
    width: 1250
    df-print: paged #control how data frames are printed. Other option: default, kable, tibble
    chalkboard: true
    code-fold: show #create foldable code, default is showing code
execute: 
  echo: true 
  warning: false
  message: false
editor: visual
---
```

. . .

-   Resource on revealjs theme: <https://quarto.org/docs/presentations/revealjs/themes.html>

-   Specify transition and/or transition speed for individual slide

```         
## Slide Title {transition="fade" transition-speed="fast"}
```

# Create section header with one "\#"

## Create new slide with title with two "\##"

### Create subtitble with three, four, or five "\#"

------------------------------------------------------------------------

Slide without title\
\
\
Add blank line between contents using "" ---

## Practice time!

-   Create a new Quarto presentation
-   Change YAML:
    -   Author: your name
    -   Title: "My first Quarto Prestentation"
-   Make new slide containing a code chunk (e.g. `ggplot(ToothGrowth, aes(x=dose, y=len)) + geom_boxplot()`)

## List {.scrollable}

-   Create list with "-", or "\*", or"1".
    -   Crete sub-list by pressing "tab" button before the item

. . .

### Incremental list

::: incremental
-   Roses are read
-   Violets aren't blue
:::

::: fragment
```         
::: {.incremental}
- They are violet
- Literally in their name
:::
```

. . . Or affect globally:

```         
format:
  revealjs:
    incremental: true
```

Then turn it off for specific list:

```         
::: {.nonincremental}
- Fancy text
:::
```
:::

## Incremental reveal {.scrollable}

-   Not limited to just bullet points
-   Use `. . .` syntax and a line break at any arbitray location

. . .

```{r}
head(mtcars, n = 2L)
```

. . .

Code:

```         
Not limited to just bullet points

Use . . . syntax and a line break at any arbitray location

. . .

{r}
head(mtcars, n = 2L)
```

## Fragments

Animation effects to highlight content:

::: fragment
Fade in
:::

::: {.fragment .fade-out}
Fade out
:::

::: {.fragment .highlight-red}
Highlight red
:::

::: {.fragment .fade-in-then-out}
Fade in, then out
:::

. . .

```         
::: {.fragment}
Fade in
:::

::: {.fragment .fade-out}
Fade out
:::

::: {.fragment .highlight-red}
Highlight red
:::

::: {.fragment .fade-in-then-out}
Fade in, then out
:::
```

## Fragments with only part of the text

\
Do we know [what we are doing?]{.fragment .highlight-red}

. . .

```         
Do we know [what we are doing?]{.fragment .highlight-red}
```

. . .

If yes, it woudn't be called [RESEARCH]{.fragment .fade-in}

. . .

```         
If yes, it woudn't be called [RESEARCH.]{.fragment .fade-in} 
```

## Fragments

-   All available fragment classes: <https://quarto.org/docs/presentations/revealjs/advanced.html#fragments>
-   Multiple fragments can be applied to the same element sequentially.
-   Use `fragment-index` to control the order fragments are displayed.

## Code line hightlighting

We could highlight part of the code, using syntax `#| code-line-numbers: [line number you want to highlight]` on top of the code chunk

```{r, eval=FALSE}
#| code-line-numbers: 5

library(ggplot2)
mtcars |> 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  geom_smooth(method = "loess", formula = "y~x")
```

. . .

-   Highlight disparate ranges of lines by seperating them with comma
-   Highlight different line ranges progressively by separating them with `|`

```{r eval=FALSE}
#| code-line-numbers: "|1,3|5"

library(ggplot2)
mtcars |> 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  geom_smooth(method = "loess", formula = "y~x")
```

```         
#| code-line-numbers: "|1,3|5"
```

## Column layout

```         
:::: {.columns}

::: {.column width="40%"}
Content column 1

:::

::: {.column width="60%"}
Content column 2

:::

::::
```

. . .

::: columns
::: {.column width="40%"}
```{r, eval=FALSE}
pacman::p_load(
     rio,                 # import/export data
     here,                # locate files
     tidyverse,           # data management and visualization
     stringr)
```
:::

::: {.column width="60%"}
```{r, eval=FALSE}
glimpse(mtcars)
```
:::
:::

## Output location in second column

Specify `#| output-location: column` on top of the code chunk

```{r}
#| output-location: column

library(ggplot2)

mtcars |> 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  geom_smooth(method = "loess", formula = "y~x")
```

## Incremental columns

You can nest `.incremental` + `.fragment` within `.columns`

::: columns
::: {.column width="50%"}
::: fragment
### These appear first

::: incremental
-   You
-   Are
-   Amazing
:::
:::
:::

::: {.column width="50"}
::: fragment
### Then this

```{r}
head(mtcars)
```
:::
:::
:::

## Incremental columns {.scrollable}

````         
::::: {.columns}
:::: {.column width="50%"}
::: {.fragment}

### These appear first

::: {.incremental}
- You
- Are
- Amazing
:::
:::
::::

:::: {.column width="50"}
::: {.fragment}

### Then this
```{r}
#| eval: FALSE
head(mtcars)
```
:::
::::
:::::
````

. . .

::: callout-note
## Note: To break line

-   Press "Enter" twice

-   Or "Shift" + "Enter"
:::

## Images and figures

```         
![       Cute :)](Images/smile1.png){fig-align="center" width="300"}
```

![Cute :)](Images/smile1.png){fig-align="center" width="300"}

## Images and figures

```{r}
#| fig-align: "left"
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "Miles/gallon by Displacement"
mtcars |> 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  geom_smooth(method = "loess", formula = "y~x")
```

Specification on top of the code chunk:

```         
#| fig-align: "right"
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "Miles/gallon by Displacement"
```

## Call-out blocks

::: callout-note
Note that there are five types of callouts, including: `note`, `warning`, `important`, `tip`, and `caution`.
:::

::: {.callout-tip title="Title"}
This is an example of a callout with a title.
:::

::: {.callout-caution collapse="true"}
## Expand To Learn About Collapse

This is an example of a 'folded' caution callout that can be expanded by the user. You can use `collapse="true"` to collapse it by default or `collapse="false"` to make a collapsible callout that is expanded by default.
:::

## Call-out blocks

```         
::: callout-note
Note that there are five types of callouts, including: `note`, `warning`, `important`, `tip`, and `caution`.
:::

::: {.callout-tip title="Title"}

This is an example of a callout with a title.
:::

::: {.callout-caution collapse="true"}
## Expand To Learn About Collapse

This is an example of a 'folded' caution callout that can be expanded by the user. You can use `collapse="true"` to collapse it by default or `collapse="false"` to make a collapsible callout that is expanded by default.
:::
```

-   Help page on Callout Blocks: <https://quarto.org/docs/authoring/callouts.html>

## Practice time!

Create a slide with two columns, one column contains a call-out block and one contains the first 6 lines of `mtcars`.

::: columns
::: {.column width="30%"}
:::

::: {.column width="70%"}
:::
:::

## Tabset

::: panel-tabset
## Data

```{r}
head(mtcars)
```

## Figures

```{r}
#| fig-align: "center"
#| fig-height: 5
ggplot(mtcars, aes(mpg)) + geom_histogram()
```
:::

## Tables

::: columns
::: {.column width="\"45%"}
```         
| Default | Left | Right | Center |
|---------|:-----|------:|:------:|
| 12      | 12   |    12 |   12   |
| 123     | 123  |   123 |  123   |
| 1       | 1    |     1 |   1    |

: Demonstration of pipe table syntax
```

-   Columns are defined by `|`
-   Position of `:` defines alignment of column
:::

::: {.column width="50%"}
| Default | Left | Right | Center |
|---------|:-----|------:|:------:|
| 12      | 12   |    12 |   12   |
| 123     | 123  |   123 |  123   |
| 1       | 1    |     1 |   1    |

: Demonstration of pipe table syntax
:::
:::

## Customize column widths and table layout

::: columns
::: {.column width="45%"}
```         
| fruit  | price  |
|--------|--------|
| apple  | 2.05   |
| pear   | 1.37   |
| orange | 3.09   |

: Fruit prices {.striped .hover tbl-colwidths="[75,25]"}
```
:::

::: {.column width="55%"}
| fruit  | price |
|--------|-------|
| apple  | 2.05  |
| pear   | 1.37  |
| orange | 3.09  |

: Fruit prices {.striped .hover tbl-colwidths="\[75,25\]"}
:::
:::

## Grid tables {.smaller .scrollable}

Grid tables are a more advanced type of markdown tables that allow arbitrary block elements (multiple paragraphs, code blocks, lists, etc.)

::: columns
::: {.column width="45%"}
```         
+-----------+-----------+--------------------+
| Fruit     | Price     | Advantages         |
+===========+===========+====================+
| Bananas   | $1.34     | - built-in wrapper |
|           |           | - bright color     |
+-----------+-----------+--------------------+
| Oranges   | $2.10     | - cures scurvy     |
|           |           | - tasty            |
+-----------+-----------+--------------------+

: Sample grid table.
```

-   The row of `=` separates the header from the table body, and can be omitted for a headerless table.
-   Cells that span multiple columns or rows are not supported.
:::

::: {.column width="10%"}
:::

::: {.column width="45%"}
+------------+------------+----------------------+
| Fruit      | Price      | Advantages           |
+============+============+======================+
| Bananas    | \$1.34     | -   built-in wrapper |
|            |            | -   bright color     |
+------------+------------+----------------------+
| Oranges    | \$2.10     | -   cures scurvy     |
|            |            | -   tasty            |
+------------+------------+----------------------+

: Sample grid table.
:::
:::

\

+-------+----------+-------+
| Col1  | Col2     | Col3  |
+=======+==========+=======+
| ANC   | -   drf\ |       |
|       |     csc  |       |
+-------+----------+-------+
|       | scscs    |       |
+-------+----------+-------+
|       | csc      |       |
+-------+----------+-------+

: Mock

\
\
- Tricks: Use "Insert table" function in `Visual` mode for less painful experience

-   Help page on Quarto table: <https://quarto.org/docs/authoring/tables.html>

## Some other advanced customizations in `Revealjs`

-   Add `{.smaller}`, `{.scrollable}` or both to the slide title, for long content
-   Slide visibility
-   Absolute position
-   Fit text to make them as BIG as possible
-   Stretch elements over the remaining vertical space in a slide
-   Resources: <https://quarto.org/docs/presentations/revealjs/advanced.html>
